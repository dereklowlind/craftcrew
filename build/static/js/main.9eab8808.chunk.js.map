{"version":3,"sources":["molecules/CourseSearch.js","pages/Mainpage.js","molecules/PreviewCard.js","molecules/TopicList.js","pages/CoursePage.js","molecules/Auth.js","molecules/TopSearchBar.js","molecules/HeaderBar.js","molecules/DrawerMenu.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","searchTextArea","width","searchTextAreaMobile","textAreaFont","fontSize","fontFamily","fontWeight","textAreaFontMobile","marginTop","CourseSearch","props","useState","searchTerm","setSearchTerm","window","innerWidth","isMobile","setMobile","classes","useEffect","addEventListener","regex","RegExp","toLowerCase","split","join","filteredResults","maxResults","i","lists","length","lower","title","test","push","docId","subtitle","sort","a","b","rowFraction","displayResults","map","result","index","Grid","item","xs","to","style","textDecoration","className","onClick","console","log","courseClick","isEmpty","sizeText","TextField","InputProps","input","onChange","event","target","value","placeholder","type","container","spacing","newCourseButton","textTransform","background","WebkitBackgroundClip","WebkitTextFillColor","border","color","borderRadius","boxShadow","height","padding","transition","Mainpage","db","history","useHistory","open","setOpen","courseTitle","setCourseTitle","courseSubject","setCourseSubject","courseCode","setCourseCode","university","setUniversity","setSubmitting","setSubmitError","dialogEmpty","setDialogEmpty","useAuthState","firebase","auth","user","closeSnack","reason","setSubmitSuccess","courseDialog","Dialog","onClose","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","autoFocus","margin","error","label","fullWidth","e","DialogActions","Button","newEmpty","collection","add","datetime","Date","description","subject","creatorId","uid","creatorName","displayName","then","setRecentTitle","catch","submitSnack","Snackbar","anchorOrigin","vertical","horizontal","submitSuccess","autoHideDuration","message","action","Fragment","size","recentId","recentTitle","IconButton","aria-label","coursesLoading","isSignedIn","setOpenSigninDialog","CircularProgress","PreviewCard","string","url","URL","_","protocol","isValidHttpUrl","isYoutube","exec","src","allowfullscreen","cardSize","showGraphic","maxLine","minLine","borderColor","borderWidth","borderStyle","textAlign","accordion","marginLeft","marginRight","accordianTitle","position","expanded","details","display","resourceContainer","justifyContent","fontColor","resourceTitle","fontStyle","resourceDesc","deleteButton","right","TopicList","setResourceTitle","setResourceDesc","resourceUrl","setResourceUrl","resourceTopicId","setResourceTopicId","topics","Topic","userUid","topic","draggableId","isDragDisabled","provided","ref","innerRef","draggableProps","dragHandleProps","Accordion","AccordionSummary","expandIcon","fill","colour","creatorID","variant","confirm","deleteTopic","AccordionDetails","resources","resource","resourceInfo","topicID","deleteResource","resourceId","accordianList","newResource","onDragEnd","droppableId","droppableProps","topicTextArea","breakpoints","down","favStarIcon","marginBottom","favButton","doc","update","firestore","FieldValue","arrayUnion","removeFromFavList","currentUser","where","get","querySnapshot","forEach","delete","newList","favList","filter","element","courseId","setFavList","CoursePage","setCoursetitle","courseSubtitle","setCourseSubtitle","pageLoading","setLoading","setTopics","topicTitle","setTopicTitle","updated","setUpdated","maxError","setMaxError","favorite","setFavorite","courseOwner","setCourseOwner","setForceOrder","docError","setDocError","set","useForcedOrder","merge","autoSave","docData","data","undefined","localForceOrdering","onSnapshot","dataEntries","list","rows","timeStamp","toDate","toString","openConfirmation","alert","Tooltip","placement","arrow","insert","addToFavList","onSubmit","preventDefault","numTopics","newTopic","warn","arrayRemove","switchTopic","destination","source","startIndex","endIndex","splice","removed","reorder","uiConfig","signInFlow","signInOptions","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","callbacks","signInSuccessWithAuthResult","Auth","setIsSignedIn","openSigninDialog","pwdResetHelp","setPwdResetHelp","unregisterAuthObserver","onAuthStateChanged","signinDialog","firebaseAuth","pwdResetHelpDialog","maxWidth","alt","signOut","TopSearchBar","options","courseList","autoHighlight","renderInput","params","getOptionLabel","option","newValue","newVal","triggerRender","headerContainer","authContainer","HeaderBar","drawerWidth","root","drawer","up","flexShrink","appBar","menuButton","toolbar","mixins","drawerPaper","backgroundColor","content","flexGrow","homeButton","outline","favListButton","favListHeader","signInButton","DrawerMenu","useTheme","mobileOpen","setMobileOpen","drawerContents","c","Hidden","smUp","implementation","Drawer","anchor","direction","paper","ModalProps","keepMounted","xsDown","apps","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","App","setLists","setRecentId","routeTrigger","setRouteTrigger","courseListLoading","setCourseListLoading","imgSrc","setImgSrc","updateFavList","webcamRef","useRef","capture","useCallback","imageSrc","current","getScreenshot","putString","snapshot","Helmet","rel","href","path","render","match","location","pathname","audio","screenshotFormat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9eab8808.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {Grid, TextField} from '@material-ui/core'\nimport {makeStyles} from '@material-ui/core/styles'\nimport { Link } from 'react-router-dom'\nimport '../css/search.scss'\n\nconst useStyles = makeStyles((theme) => ({\n    searchTextArea: {\n        width: '750px'\n    },\n    searchTextAreaMobile: {\n        width: '100%',\n    },\n    textAreaFont: {\n        fontSize: '24pt',\n        fontFamily: \"'Rubik'\",\n        fontWeight: 600\n    },\n    textAreaFontMobile: {\n        fontSize: '16pt',\n        fontFamily: \"'Rubik'\",\n        fontWeight: 600,\n        marginTop: '10px'\n    }\n    \n}))\nfunction CourseSearch(props) {\n\n    const [searchTerm, setSearchTerm] = useState(\"\")\n    const [isMobile, setMobile] = useState(window.innerWidth < 800)\n\n    const classes = useStyles()\n\n    useEffect(() => {\n        function handleResize() {\n            setMobile(window.innerWidth < 800)\n        }\n        window.addEventListener('resize', handleResize)\n    }, [])\n    \n    const updateSearch = (event) => {\n        setSearchTerm(event.target.value)\n    }\n\n    var regex = new RegExp('^' + searchTerm.toLowerCase().split(\" \").join(\"\"))\n\n    var filteredResults = []\n\n    const maxResults = (isMobile ? 10 : 9)\n\n    for(var i=0; i < props.lists.length; i++) {\n        var lower = props.lists[i].title.toLowerCase().split(\" \").join(\"\")\n        const foundLower = regex.test(lower)\n        if(foundLower) {\n            filteredResults.push([props.lists[i].docId, props.lists[i].title, props.lists[i].subtitle])\n        }\n\n        if(filteredResults.length === maxResults) {\n            break\n        }\n    }\n\n    filteredResults.sort(function(a, b){\n        return (a[1] < b[1]) ? -1 : 1\n    })\n\n    const rowFraction = (isMobile ? 12 : 4)\n\n    const courseClick = (index) => {\n        console.log(index)\n    }\n\n    var displayResults = filteredResults.map((result, index) => {\n        return (\n            <Grid item xs={rowFraction} key={index}>\n                <Link to={'/course/' + result[0]} style={{ textDecoration: 'none' }}>\n                    <div className=\"searchResult\" onClick={()=>courseClick(index)}>\n                        <div className=\"searchText\">\n                            <div className=\"searchTerm\">\n                                {result[1]}\n                            </div>\n                            <div className=\"searchDescription\">\n                                {result[2]}\n                            </div>\n                        </div>    \n                    </div>\n                </Link>\n            </Grid>\n        )\n    })\n    \n    var isEmpty = filteredResults.length === 0\n    \n    var sizeText = isMobile ? classes.textAreaFontMobile : classes.textAreaFont\n\n    return (\n        <div className=\"searchCourseContainer\">\n            <div className=\"searchBoxContainer\">\n                <TextField \n                    className={isMobile ? classes.searchTextAreaMobile : classes.searchTextArea} \n                    InputProps={{\n                        classes: {\n                          input: sizeText\n                        }\n                    }}\n                    onChange={updateSearch} \n                    placeholder=\"Search for courses...\" type='text'/>\n            </div>\n            <div className=\"searchResultContainer\">\n                {isEmpty ? \n                    (\n                        <div>no results! :(</div>\n                    ) \n                    : \n                    (\n                        <Grid container spacing={3}>\n                            {displayResults}\n                        </Grid>\n                    )\n                }\n                 \n            </div>\n        </div>\n    )\n}\n\nexport default CourseSearch","import React, { useState } from 'react'\nimport 'firebase/firestore'\nimport firebase from 'firebase'\nimport {Button, Dialog, DialogContent, DialogContentText, \n  DialogTitle, TextField, DialogActions, \n  CircularProgress, IconButton, Snackbar} \nfrom '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport CourseSearch from '../molecules/CourseSearch'\nimport { useHistory } from 'react-router-dom'\nimport {makeStyles, useTheme} from '@material-ui/core/styles'\nimport {useAuthState} from 'react-firebase-hooks/auth'\nimport '../css/mainpage.scss'\n\n\nconst useStyles = makeStyles((theme) => ({\n  newCourseButton :{\n    textTransform: \"none\",\n    background: '#000000',\n    WebkitBackgroundClip: 'background',\n    WebkitTextFillColor: 'radial-gradient(circle farthest-corner at center center,white,#111) no-repeat',\n    border: 0,\n    fontSize: '18px',\n    color:'white',\n    fontWeight: 700,\n    borderRadius: '30px',\n    boxShadow: '0 3px 5px 2px',\n    height: 48,\n    padding: '0 30px',\n    transition:'0.4s',\n    '&:hover':{\n      background: '#FFFFFF',\n      color:'#000000',\n      transition:'0.4s',\n      boxShadow: 'none',\n      border:'solid 1px #000000'\n\n    }\n\n}  \n}));\n\nconst errorMessages = [\n  \"Fields cannot be empty.\",\n  \"Code cannot exceed 10 characters\",\n  \"Subject cannot exceed 10 characters\",\n  \"Title cannot exceed 20 characters.\"\n]\n\nfunction Mainpage(props){\n  const classes = useStyles();\n  const db = props.db;\n  let history = useHistory()\n  //state\n  //const [lists, setLists] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [courseTitle, setCourseTitle] = useState(\"\")\n  const [courseSubject, setCourseSubject] = useState(\"N/A\")\n  const [courseCode, setCourseCode] = useState(\"\")\n  const [university, setUniversity] = useState(\"University of Victoria\")\n  const [submitting, setSubmitting] = useState(false)\n  const [submitError, setSubmitError] = useState(false)\n  const [dialogEmpty, setDialogEmpty] = useState([false, false, false, false])\n  const [user, loading, error] = useAuthState(firebase.auth());\n  // const [showMessages, setShowMessages] = useState([false, false, false, false])\n\n  //request functions\n  const handleAdd = () => {\n    setSubmitting(true)\n\n    if (courseCode === \"\" || university=== \"\" || courseTitle===\"\" || courseSubject===\"\") {\n      const newEmpty = []\n      if (courseCode === \"\") {\n        newEmpty.push(true)\n      } else {\n        newEmpty.push(false)\n      }\n\n      if (courseSubject === \"\") {\n        newEmpty.push(true)\n      } else {\n        newEmpty.push(false)\n      }\n\n      if (courseTitle === \"\") {\n        newEmpty.push(true)\n      } else {\n        newEmpty.push(false)\n      }\n\n      if (university === \"\") {\n        newEmpty.push(true)\n      } else {\n        newEmpty.push(false)\n      }\n\n      setDialogEmpty(newEmpty)\n      return\n    }\n\n    db.collection(\"Lists\").add({\n      datetime: new Date(),\n      title: courseCode,\n      university: university,\n      description: courseTitle,\n      subject: courseSubject,\n      creatorId: user.uid,\n      creatorName: user.displayName\n    })\n    .then(function() {\n      props.setRecentTitle(courseCode)\n      setCourseTitle(\"\");\n      setCourseSubject(\"\");\n      setUniversity(\"\");\n      setCourseCode(\"\");\n      setOpen(false)\n      setSubmitting(false)\n      props.setSubmitSuccess(true)\n    })\n    .catch(function(error) {\n        console.error(\"Error adding document: \", error);\n        setSubmitError(true)\n        setSubmitting(false)\n    });\n  }\n\n  const closeSnack = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    props.setSubmitSuccess(false);\n  }\n\n  const snackGo = () => {\n    history.push(\"/course/\" + props.recentId)\n    closeSnack()\n  }\n\n  //state sharing components seperated for clarity\n  const courseDialog = (\n    <Dialog open={open} onClose={() => setOpen(false)} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Add Course</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please enter the new course below\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          error={dialogEmpty[0]}\n          id=\"code\"\n          label=\"Course Code\"\n          fullWidth\n          value={courseCode}\n          placeholder=\"eg. MATH101\"\n          onChange={(e) => setCourseCode(e.target.value)}\n        />\n        {/* Should be autocomplete when we have a list of valid subjects */}\n        {/* <TextField\n          margin=\"dense\"\n          error={dialogEmpty[1]}\n          id=\"subject\"\n          label=\"Course Subject\"\n          fullWidth\n          value={courseSubject}\n          placeholder=\"eg. Math\"\n          onChange={(e) => setCourseSubject(e.target.value)}\n        /> */}\n        <TextField\n          margin=\"dense\"\n          id=\"title\"\n          error={dialogEmpty[2]}\n          label=\"Course Title\"\n          fullWidth\n          value={courseTitle}\n          placeholder=\"eg. Introductory Calculus\"\n          onChange={(e) => setCourseTitle(e.target.value)}\n        />\n        {/* <TextField\n          margin=\"dense\"\n          id=\"university\"\n          error={dialogEmpty[3]}\n          label=\"University\"\n          fullWidth\n          value={university}\n          placeholder=\"eg. University of Victoria\"\n          onChange={(e) => setUniversity(e.target.value)}\n        /> */}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={(e) => {\n              setOpen(false);\n              setDialogEmpty([false, false, false, false])\n              setCourseTitle(\"\");\n              setCourseSubject(\"\");\n              setUniversity(\"\");\n              setCourseCode(\"\");\n          }} color=\"primary\">\n              Cancel\n        </Button>\n        <Button \n          onClick={handleAdd} \n          color=\"primary\">\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n\n  const submitSnack = (\n    <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={props.submitSuccess}\n        autoHideDuration={10000}\n        onClose={closeSnack}\n        message=\"Course Created!\"\n        action={\n          <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={snackGo}>\n              {props.recentTitle}\n            </Button>\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={closeSnack}>\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n  )\n    return(\n        <div className=\"mainPageContainer\">\n          {courseDialog}\n          {submitSnack}\n          <div className=\"titleSection\">\n            <div className=\"pageTitleContainer\">\n              <h1 className=\"pageTitle\">\n                Curated content that will help you study better.\n              </h1>\n            </div>\n          </div>\n          <div className=\"commandSection\">\n              <div>\n              {(!props.coursesLoading) &&\n                <div>\n                {props.isSignedIn ?\n                  <Button className={classes.newCourseButton}\n                  onClick={() => setOpen(true)}\n                  >\n                    Add Course +\n                  </Button>\n                  :\n                  <Button className={classes.newCourseButton}\n                  onClick={() => props.setOpenSigninDialog(true)}\n                  >\n                    Add Course +\n                  </Button>\n                }\n                </div>\n              }\n              </div>\n          </div>\n          <div className=\"courseSection\">\n            {props.coursesLoading ? \n            (\n              <div>\n                <CircularProgress size={60}/>\n              </div>\n            )\n            :\n            (\n              <CourseSearch lists={props.lists} />\n            )\n            }\n            \n          </div> \n        </div>\n    )\n}\nexport default Mainpage\n","import { ReactTinyLink } from \"react-tiny-link\";\n\nfunction isValidHttpUrl(string) {\n    let url;\n    \n    try {\n      url = new URL(string);\n    } catch (_) {\n      return false;  \n    }\n  \n    return url.protocol === \"http:\" || url.protocol === \"https:\";\n  }\n\nfunction PreviewCard(props){  \n    if(isValidHttpUrl(props.url)){\n        const pattern = /https:\\/\\/www\\.youtube\\.com\\/watch\\?v=(.+)/;\n        const isYoutube = pattern.exec(props.url);\n        if(isYoutube !== null){\n            return(\n                <iframe src={\"https://www.youtube.com/embed/\"+isYoutube[1]} \n                    allowfullscreen=\"allowfullscreen\"\n                    width=\"420\" height=\"345\"\n                />\n            )\n        }else{\n            return(\n                <ReactTinyLink\n                    cardSize=\"small\"\n                    showGraphic={true}\n                    maxLine={2}\n                    minLine={1}\n                    url={props.url}\n                />\n    \n            )\n        }\n    }else{\n        return(\n            <div style={{\n                color: \"grey\",\n                borderColor: \"grey\",\n                borderWidth: \"2px\",\n                borderStyle: \"solid\",\n                marginTop: \"4px\",\n                padding: \"10px\",\n                textAlign: \"center\",\n                fontSize: \"50px\"\n            }}>404 Invalid Url</div>\n    \n        )\n    }\n}\nexport default PreviewCard","import React, {useState} from 'react'\nimport { \n    Accordion, AccordionSummary, AccordionDetails, Button, TextField,\n    Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions,\n} from '@material-ui/core'\nimport firebase from 'firebase'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {makeStyles} from '@material-ui/core/styles'\nimport { Link } from 'react-router-dom'\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\nimport PreviewCard from './PreviewCard'\nimport { useAuthState } from 'react-firebase-hooks/auth'\n\nconst useStyles = makeStyles((theme) => ({\n    accordion: {\n        marginLeft: '50px',\n        marginRight: '50px',\n        marginTop: '30px',\n        fontFamily: \"'Rubik'\",\n    },\n    accordianTitle: {\n        fontWeight: 600,\n        fontSize: 32,\n        marginTop: '30px',\n        position: 'relative'\n    },\n    expanded:{\n        marginTop:'30px'\n    },\n    details:{\n        display: \"block\",\n        textAlign: \"left\"\n    },\n    resourceContainer: {\n        display: \"flex\",\n        marginTop: '10px',\n        border: '1px solid #B9B9B9',\n        justifyContent: \"space-between\",\n        borderRadius: '8px',\n        padding:'17px',\n        fontColor: '#696969',\n    },\n    resourceTitle:{\n        fontFamily: 'Circular Std',\n        fontStyle: 'normal',\n        fontWeight: 'bold',\n        fontSize: '25px'\n    },\n    resourceDesc:{\n        fontFamily: 'Arial',\n        fontStyle: 'normal',\n        fontWeight: 'normal',\n        fontSize: '20px'\n    },\n    deleteButton: {\n        position:  'absolute',\n        right: '50px'\n    }\n}))\n\nfunction TopicList(props){  \n    const [open, setOpen] = useState(false); \n    const [resourceTitle, setResourceTitle] = useState(\"\");\n    const [resourceDesc, setResourceDesc] = useState(\"\");\n    const [resourceUrl, setResourceUrl] = useState(\"\"); \n    const [resourceTopicId, setResourceTopicId] = useState(\"\");\n    const [user, loading, error] = useAuthState(firebase.auth())\n    \n    const classes = useStyles()\n\n    const handleAddResource = () => {\n        setOpen(false);\n        props.newResource(props.db, props.docId, resourceTopicId, resourceTitle, resourceDesc, resourceUrl, user.uid, user.displayName);\n        setResourceTitle(\"\");\n        setResourceDesc(\"\");\n        setResourceUrl(\"\");\n        setResourceTopicId(\"\");\n    }\n\n    const handleDeleteResource = (resourceInfo, topicID) => {\n        const proceed = window.confirm(\"Delete your resource: \" + resourceInfo.title + \"?\")\n        if(proceed) {\n            props.deleteResource(resourceInfo, topicID)\n        } else {\n            console.log(\"cancelled\")\n        }    \n    }\n    \n    const handleTopicDelete = (id, title) => {\n        const proceed = window.confirm(\"Delete your topic: \" + title + \"?\")\n        if(proceed) {\n            props.deleteTopic(id)\n        } else {\n            console.log(\"cancelled\")\n        }\n    }\n    \n    const onDragEnd = (result) => {\n        props.onDragEnd(result)\n    }\n\n    // const openInNewTab = (url) => {\n    //     const newWindow = window.open(url, '_blank', 'noopener,noreferrer')\n    //     if (newWindow) newWindow.opener = null\n    //   }\n    \n    // console.log(\"in showtopictable\", props.topics);\n    if(props.topics === []){\n        return <div>No topics found</div>\n    }\n\n    function Topic({topic, index}) {\n        let userUid;\n        if(user !== null){\n            userUid = user.uid;\n        }else{\n            userUid = \"not signed in\"\n        }\n\n        return(\n            <Draggable draggableId={topic.docId} index={index} isDragDisabled={!props.isSignedIn}>\n                {provided => (\n                    <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n                        <Accordion key={topic.docId} className={classes.accordion}>\n                            <AccordionSummary \n                                expandIcon={<ExpandMoreIcon style={{fill: \"green\"}}/>}\n                                id={topic.docId} \n                                className={classes.accordianTitle}\n                            >\n                                <DragIndicatorIcon fontSize=\"inherit\" style={{colour: \"#E5E5E5\"}}/>\n                                {topic.title}\n                                {topic.creatorID == userUid &&\n                                    <Button variant='outlined'color='secondary' className={classes.deleteButton} onClick={() => {handleTopicDelete(topic.docId, topic.title)}}>\n                                        Delete\n                                    </Button> \n                                }\n                            </AccordionSummary>\n                            <AccordionDetails className={classes.details}>\n                                <div>\n                                {props.isSignedIn ?\n                                    <Button variant=\"outlined\" type='submit' onClick={() => {\n                                        setOpen(true);\n                                        setResourceTopicId(topic.docId);\n                                    }}>\n                                        Add Resource\n                                    </Button>\n                                    :\n                                    <Button variant=\"outlined\" type='submit' onClick={() => {\n                                        props.setOpenSigninDialog(true)\n                                    }}>\n                                        Add Resource\n                                    </Button>\n                                }\n                                \n                                </div>  \n                                {topic.resources.map((resource) => (\n                                        <div key={resource.resourceId} className={classes.resourceContainer}>\n                                            <div>\n                                                <div className={classes.resourceTitle}>{resource.title}</div>\n                                                <div className={classes.resourceDesc}>{resource.description}</div>\n                                                {/* <Link onClick={() => openInNewTab(resource.url)}>{resource.url}</Link> */}\n                                                {userUid == resource.creatorID &&\n                                                    <Button variant='outlined' color='secondary' onClick={()=>{handleDeleteResource(resource, topic.docId)}}>\n                                                        Delete Resource\n                                                    </Button>\n                                                }\n                                            </div>\n                                            <div>\n                                                <PreviewCard url={resource.url} />\n                                            </div>\n                                        </div>\n                                ))}\n                            </AccordionDetails>\n                        </Accordion>\n                    </div>\n                )}\n            </Draggable>\n        )\n    }\n\n    const accordianList = props.topics.map((topic, index) => (\n        <Topic topic={topic} key={index} index={index}/>\n    ))\n    \n    return(\n        <div>\n        <Dialog open={open} onClose={() => setOpen(false)} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">Add Resource</DialogTitle>\n            <DialogContent>\n            <DialogContentText>\n                Please enter the new resource below\n            </DialogContentText>\n            <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"title\"\n                label=\"Title\"\n                fullWidth\n                value={resourceTitle} onChange={(e) => setResourceTitle(e.target.value)}\n            />\n            <TextField\n                margin=\"dense\"\n                id=\"description\"\n                label=\"Description\"\n                fullWidth\n                value={resourceDesc} onChange={(e) => setResourceDesc(e.target.value)}\n            />\n            <TextField\n                margin=\"dense\"\n                id=\"url\"\n                label=\"URL\"\n                type=\"url\"\n                fullWidth\n                value={resourceUrl} onChange={(e) => setResourceUrl(e.target.value)}\n            />\n            </DialogContent>\n            <DialogActions>\n            <Button onClick={(e) => {\n                setOpen(false);\n                setResourceTitle(\"\");\n                setResourceDesc(\"\");\n                setResourceUrl(\"\");\n                setResourceTopicId(\"\");\n            }} color=\"primary\">\n                Cancel\n            </Button>\n            <Button onClick={handleAddResource} color=\"primary\">\n                Add\n            </Button>\n            </DialogActions>\n        </Dialog>\n        <DragDropContext onDragEnd={onDragEnd}>\n            <Droppable droppableId=\"topiclist\">\n                {provided => (\n                    <div ref={provided.innerRef} {...provided.droppableProps}>\n                        {accordianList}\n                    </div>\n                )}\n            </Droppable>\n        </DragDropContext>\n        </div>\n\n    )\n\n}\nexport default TopicList","import React, { useState, useEffect } from 'react'\nimport firebase from 'firebase'\nimport 'firebase/firestore';\nimport {Button, TextField, Tooltip} from '@material-ui/core'\nimport {makeStyles} from '@material-ui/core/styles'\nimport TopicList from '../molecules/TopicList'\nimport BookmarkIcon from '@material-ui/icons/Bookmark'\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {useAuthState} from 'react-firebase-hooks/auth'\nimport {Link} from 'react-router-dom'\nimport '../css/coursepage.scss'\n\n\nconst useStyles = makeStyles((theme) => ({\n  topicTextArea: {\n    width: '400px',\n    [theme.breakpoints.down('sm')]: {width: '80%'}\n  },\n  textAreaFont: {\n    fontSize: '16pt',\n    fontFamily: \"'Montserrat', sans-serif\",\n    fontWeight: 600\n  },\n  favStarIcon: {\n    marginLeft: '5px',\n    marginBottom:'-7px',\n    color: '#ff6d75',\n  },\n  favButton: {\n    fontFamily: \"'Montserrat', sans-serif\",\n    fontWeight: 600,\n    color: 'gray'\n\n  }\n}))\n\nfunction newTopic(db, title, docId, numTopics, user){\n  console.log(numTopics)\n    db.collection(`Lists/${docId}/topics`).add({\n      datetime: new Date(),\n      title: title,\n      resources: [],\n      position: numTopics,\n      creatorId: user.uid,\n      creatorName: user.displayName\n    })\n    .then(function() {\n      console.log(\"Document successfully written!\");\n    })\n    .catch(function(error) {\n        console.error(\"Error adding document: \", error);\n    });\n  }\n\nfunction newResource(db, docId, topic, title, description, url, creatorID, creatorName){\n  db.collection(`Lists/${docId}/topics`).doc(topic).update({\n    resources: firebase.firestore.FieldValue.arrayUnion({\n      datetime: new Date(),\n      title: title,\n      description: description,\n      url: url,\n      creatorID: creatorID,\n      creatorName: creatorName \n    })\n  })\n  .then(function() {\n    console.log(\"Document successfully written!\");\n  })\n  .catch(function(error) {\n      console.error(\"Error adding document: \", error);\n  });\n}\n  \nfunction addToFavList(db, courseId, courseTitle, props){\n\n  db.collection(`UserList`).doc(firebase.auth().currentUser.uid).collection('favouritesList').add({\n    courseId: props.id,\n    courseTitle: courseTitle,\n    datetime: new Date()\n  })\n  .then(function() {\n    const newList = [...props.favList]\n    const insert = {\n      datetime: new Date(),\n      courseId: courseId,\n      courseTitle: courseTitle\n    }\n    newList.push(insert)\n    props.setFavList(newList)\n    console.log(\"Document successfully written!\");\n  })\n  .catch(function(error) {\n      console.error(\"Error adding document: \", error);\n  });\n}\n\nfunction removeFromFavList(db, courseTitle, props) {\n\n  //delete from db, needs error handling\n  var deleteCourseQuery = db.collection(`UserList/${firebase.auth().currentUser.uid}/favouritesList`).where('courseId', '==', props.id)\n  \n  deleteCourseQuery.get().then(function(querySnapshot) {\n    querySnapshot.forEach(function(doc) {\n      doc.ref.delete()\n    })\n  })\n\n  //delete locally without having to reload the page\n  var newList = [...props.favList]\n  newList = newList.filter(element => element.courseId!==props.id)\n  props.setFavList(newList)\n\n}\n\n// function sortDate(list) {\n//   list.sort(function(a,b) {\n//     return new Date(a.timeStamp) - new Date(b.timeStamp)\n//   })\n//   return list\n// }\n\nfunction sortField(list) {\n  list.sort(function(a,b) {\n    return b.position - a.position\n  })\n  return list\n}\n\n// function updatePositions(db, rows, id) {\n\n//   db.collection(\"Lists\").doc(id).set({\n//     useForcedOrder: true\n//   }, {merge: true})\n\n//   for(var i = 0; i < rows.length; i++) {\n//     console.log(rows[i].docId)\n//     console.log(rows[i].title)\n//     db.collection(\"Lists\").doc(id).collection(\"topics\").doc(rows[i].docId).set({\n//       position: i\n//     }, {merge: true}).catch(function(error) {\n//       console.log(\"Error setting new positions.\")\n//     })\n//   }\n// }\n\nfunction autoSave(db, topics, id) {\n  db.collection(\"Lists\").doc(id).set({\n    useForcedOrder: true\n  }, {merge: true})\n\n  for(var i = 0; i < topics.length; i++) {\n    console.log(topics[i].docId)\n    console.log(topics[i].title)\n    db.collection(\"Lists\").doc(id).collection(\"topics\").doc(topics[i].docId).set({\n      position: (topics.length - i - 1)\n    }, {merge: true}).catch(function(error) {\n      console.log(\"Error setting new positions.\")\n    })\n  }\n}\n\nfunction CoursePage(props){\n    const db = props.db;\n    const [courseTitle, setCoursetitle] = useState(\"\")\n    const [courseSubtitle, setCourseSubtitle] = useState(\"\")\n    const [pageLoading, setLoading] = useState(true)\n    const [topics, setTopics] = useState([]);\n    const [topicTitle, setTopicTitle] = useState(\"\");\n    const [updated, setUpdated] = useState(false)\n    const [maxError, setMaxError] = useState(false)\n    const [favorite, setFavorite] = useState(false)\n    const [courseOwner, setCourseOwner] = useState(\"\")\n    const [user, loading, error] = useAuthState(firebase.auth())\n    const [forceOrder, setForceOrder] = (useState(false))\n    const [docError, setDocError] = useState(\"none\")\n    const classes = useStyles()\n\n    useEffect(() => {\n      console.log(\"saving!\")\n      autoSave(props.db, topics, props.id)\n    }, [updated])\n\n    useEffect(() => {\n      if (!favorite) {\n        if (props.favList.length > 0) {\n          for(var i = 0; i < props.favList.length; i++) {\n            if (props.favList[i].courseId === props.id) {\n              setFavorite(true)\n              break\n            }\n          }\n        }\n      }\n    }, [props.favList])\n\n    useEffect(() => {      \n      db.collection('Lists').doc(props.id).get().then(function(doc) {\n        const docData = doc.data()\n        if (docData.title == undefined) {\n          setDocError(\"notFound\")\n        }\n        setCoursetitle(docData.title)\n        setCourseOwner(docData.creatorId)\n        if(docData.description) {\n          setCourseSubtitle(docData.description)\n        }\n\n        console.log(docData.useForcedOrder)\n        var localForceOrdering = (docData.useForcedOrder!==undefined) ? true : false\n\n        if (localForceOrdering===true) {\n          localForceOrdering = (docData.useForcedOrder) ? true : false\n          setForceOrder(localForceOrdering)\n        }\n        \n        if(docError==\"none\") {\n          db.collection(`Lists/${props.id}/topics`).onSnapshot((dataEntries) => {\n            let rows = []\n            dataEntries.forEach(doc => {\n              const timeStamp = doc.data().datetime.toDate().toString()\n              rows.push({\n                docId: doc.id,\n                timeStamp: timeStamp,\n                title: doc.data().title,\n                resources: doc.data().resources,\n                position: doc.data().position,\n                creatorID: doc.data().creatorId,\n                creatorName: doc.data().creatorName\n              })\n            }); // data entries for each\n            if(rows.length > 1) {\n                rows = sortField(rows)\n            }\n            \n            setTopics(rows);\n            setLoading(false);\n          });\n        }\n      }).catch(function(error){\n        console.log(error)\n        setDocError(\"notFound\")\n        setLoading(false)\n      })\n       // db collect topics\n    }, [props.id]); // when id in link /courses/:id changes it causes a \"reload\" of the page\n\n    const getContent = (id) => {\n      console.log(id)\n    }\n\n    const handleCourseDelete = () => {\n      const proceed = openConfirmation();\n      if(proceed) {\n        setLoading(true)\n        removeFromFavList(db, \"\", props)\n        db.collection('Lists').doc(props.id).collection('topics').get().then(function(querySnapshot) {\n          querySnapshot.forEach(function(doc) {\n            doc.ref.delete()\n          })\n        })\n        db.collection('Lists').doc(props.id).delete().then(function(){\n          console.log(\"Delete success.\")\n          setDocError(\"deleted\")\n          setLoading(false)\n        }).catch(function(error) {\n          console.warn(error)\n        })\n      }\n    }\n\n    const deleteTopic = (id) => {\n      \n      const newList = topics.filter((element) => {\n        return element.id != id\n      })\n      setTopics(newList)\n\n      db.collection('Lists').doc(props.id).collection('topics').doc(id).delete()\n\n    }\n\n    const deleteResource = (resource, topicID) => {\n      console.log(resource)\n      const newList = topics.filter((element) => {\n        return element.resources.title != resource.title\n      })\n      setTopics(newList)\n      db.collection('Lists').doc(props.id).collection('topics').doc(topicID).update({\n        \"resources\": firebase.firestore.FieldValue.arrayRemove(\n          {\n            \"creatorID\": resource.creatorID,\n            \"creatorName\": resource.creatorName,\n            \"datetime\": resource.datetime,\n            \"description\": resource.description,\n            \"title\": resource.title,\n            \"url\": resource.url\n          }\n        )\n      }).catch((error)=>{\n        console.log(error)\n        \n      })\n\n    }\n\n    const handleSubmit = e => {\n      e.preventDefault();\n\n      if (!props.isSignedIn) {\n        props.setOpenSigninDialog(true)\n        return\n      }\n\n      if (topicTitle === \"\") {\n        setMaxError(true)\n        return\n      }\n      newTopic(db, topicTitle, props.id, topics.length, user);\n      setTopicTitle(\"\");\n      setMaxError(false)\n    }\n\n    const reorder = (list, startIndex, endIndex) => {\n      console.log(list)\n      const result = [...list]\n      const [removed] = result.splice(startIndex, 1)\n      result.splice(endIndex, 0, removed)\n      console.log(result)\n      result.forEach((element, index)=> {\n        element.position = (result.length-index-1)\n      })\n      console.log(result)\n\n      return result\n    }\n\n    const onDragEnd = (result) => {\n      \n      if (!result.destination) {\n        return;\n      }\n  \n      if (result.destination.index === result.source.index) {\n        return;\n      }\n      setForceOrder(true)\n\n      const rows = reorder(\n        topics,\n        result.source.index,\n        result.destination.index\n      );\n\n      setTopics(rows);\n      setUpdated(!updated);\n      //putting this function here breaks dnd, so maybe just let it end\n      // updatePositions(props.db, rows, props.id)\n\n    }\n\n    const handleAddToFavList = () => {\n      if(firebase.auth().currentUser){ // check if uid is null\n        if(favorite) {\n          alert(\"Already in favorites list!\")\n        } else {\n          addToFavList(db, props.id, courseTitle, props)\n        }\n      }else{\n        alert(\"please sign in to add to favourites\")\n      } \n    }\n\n    const handleRemoveFromFavList = () => {\n      if(firebase.auth().currentUser) {\n        if (favorite) {\n          removeFromFavList(db, courseTitle, props)\n          setFavorite(false)\n        } else {\n          alert(\"this is not a favorite\")\n        }\n      }\n    }\n\n    const openConfirmation = () =>{\n      return window.confirm(\"Are you sure you want to delete this course?\")\n    }\n\n    if(docError==\"notFound\") {\n      return (\n        <div className=\"coursePage\">\n          <div className=\"courseHeader\">\n            <div className=\"courseTitles\">\n              <div className=\"courseTitle\">\n                {\"404 Not Found\"}\n              </div>\n              <div className=\"courseSubtitle\">\n                {\"We couldn't find what you were looking for, or it doesn't exist!\"}\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    } else if (docError==\"deleted\") {\n      return(\n        <div className=\"coursePage\">\n          <div className=\"courseHeader\">\n            <div className=\"courseTitles\">\n              <div className=\"courseTitle\">\n                {\"Resource deleted\"}\n              </div>\n              <div className=\"courseSubtitle\">\n                <Link to=\"/\">\n                  Back to Home\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    return(\n      <div>\n      {(pageLoading===true) ?\n        (\n          <div className=\"loadingPage\">\n            <CircularProgress/>\n          </div>\n        )\n        :\n        (\n          <div className=\"coursePage\">\n            <div className=\"courseHeader\">\n              <div className=\"courseTitles\">\n                <div className=\"courseTitle\">\n                  {courseTitle}\n                </div>\n                <div className=\"courseSubtitle\">\n                  {courseSubtitle}\n                </div>\n              </div>\n\n              {firebase.auth().currentUser!=null && \n                ( !favorite ?\n                  (<div className=\"favouriteIndicator\" onClick={handleAddToFavList}>\n                      <Tooltip title={<div style={{fontSize: \"20px\", padding: \"5px\"}}>Add list to favourites list</div>} \n                        placement=\"right\" arrow\n                      >\n                        <BookmarkBorderIcon className={classes.favStarIcon} />\n                      </Tooltip>\n                  </div>)\n                  :\n                  (\n                    <div className=\"favouriteIndicator\" onClick={handleRemoveFromFavList}>\n                      <Tooltip title={<div style={{fontSize: \"20px\", padding: \"5px\"}}>Remove list from favourites list</div>} \n                        placement=\"right\" arrow\n                      >\n                        <BookmarkIcon className={classes.favStarIcon}/>\n                      </Tooltip>\n                    </div>\n                  )\n                )\n              }\n              \n            </div>\n          <div className=\"courseButtons\">\n            <form onSubmit={handleSubmit} className=\"courseButtons\">\n              <TextField \n                placeholder=\"New Topic\" \n                error={maxError}\n                className={classes.topicTextArea} \n                value={topicTitle} \n                InputProps={{\n                  classes: {\n                    input: classes.textAreaFont\n                  }\n                }}\n                onChange={(e) => {\n                  if(e.target.value.length > 30) {\n                    setMaxError(true)\n                  } else if (maxError) {\n                    setMaxError(false)\n                    setTopicTitle(e.target.value)\n                  } else {\n                    setTopicTitle(e.target.value)\n                  }\n                }}/>\n              <Button variant=\"outlined\" type='submit'\n                style={{marginLeft: '10px'}}\n              >Add Topic</Button>\n              {user &&\n              <div>\n                {(user.uid === courseOwner) &&\n                <Button variant=\"outlined\" color=\"secondary\" onClick={handleCourseDelete}>\n                  Delete Course\n                </Button>\n                }\n              </div>\n              }\n            </form>\n          </div>\n\n          <TopicList \n            db={db} \n            topics={topics} \n            isSignedIn={props.isSignedIn}\n            setOpenSigninDialog={props.setOpenSigninDialog}\n            newResource={newResource}\n            deleteResource={deleteResource}\n            deleteTopic={deleteTopic}\n            docId={props.id} \n            switchTopic={getContent}\n            onDragEnd={onDragEnd}\n          />\n        </div>\n        )\n      }\n      </div>    \n    )\n}\n\n\nexport default CoursePage\n","// Import FirebaseAuth and firebase.\nimport React, { useEffect, useState } from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\nimport {\n  Button, Dialog, DialogContent, \n  DialogTitle, DialogActions, \n  } from '@material-ui/core';\n\n// Configure FirebaseUI.\nconst uiConfig = {\n  // Popup signin flow rather than redirect flow.\n  signInFlow: 'popup',\n  // We will display Google and Facebook as auth providers.\n  signInOptions: [\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    // firebase.auth.FacebookAuthProvider.PROVIDER_ID\n  ],\n  callbacks: {\n    // Avoid redirects after sign-in.\n    signInSuccessWithAuthResult: () => false,\n  },\n};\n\nfunction Auth(props) {\n    const isSignedIn = props.isSignedIn;\n    const setIsSignedIn = props.setIsSignedIn;\n    const open = props.openSigninDialog;\n    const setOpen = props.setOpenSigninDialog;\n    // openSigninDialog={openSigninDialog} setOpenSigninDialog={setOpenSigninDialog}\n    const [pwdResetHelp, setPwdResetHelp] = useState(false);\n    // Listen to the Firebase Auth state and set the local state.\n    useEffect(() => {\n      const unregisterAuthObserver = firebase.auth().onAuthStateChanged(user => {\n        setIsSignedIn(!!user);\n        setOpen(false);\n        if(user){\n          props.db.collection(`UserList/${user.uid}/favouritesList`).get().then(function(querySnapshot) {\n            const newList = []\n            querySnapshot.forEach(doc => {\n              newList.push(doc.data())\n            });\n            props.setFavList(newList)\n          })\n        }else{\n          props.setFavList([]);\n        }\n      });\n      return () => unregisterAuthObserver(); // Make sure we un-register Firebase observers when the component unmounts.\n    }, []);\n\n    const signinDialog = (\n      <Dialog open={open} onClose={() => setOpen(false)} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Signin/Signup</DialogTitle>\n        <DialogContent>\n          <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n          <Button color=\"primary\" size=\"small\"\n            onClick={() => setPwdResetHelp(true)}\n          >How to reset email password</Button>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={(e) => {setOpen(false)}} color=\"primary\">\n                Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    )\n\n    const pwdResetHelpDialog = (\n      <Dialog open={pwdResetHelp} onClose={() => setPwdResetHelp(false)} aria-labelledby=\"form-dialog-title\" fullWidth={true} maxWidth={'md'}>\n        <DialogTitle id=\"form-dialog-title\">Signin/Signup</DialogTitle>\n        <DialogContent>\n          <img src=\"/how_to_reset_password.png\" alt=\"password reset help image\"/>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={(e) => {setPwdResetHelp(false)}} color=\"primary\">\n                Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    )\n\n    if (!isSignedIn) {\n      return (\n        <div>\n          {signinDialog}\n          {pwdResetHelpDialog}\n          <Button variant=\"outlined\" onClick={() => setOpen(true)}>Sign in/up</Button>\n        </div>\n      );\n    }\n    return (\n      <div>\n        {/* <p>Welcome {firebase.auth().currentUser.displayName}! You are now signed-in!</p> */}\n        <Button variant=\"outlined\" onClick={() => firebase.auth().signOut()}>Sign-out</Button>\n      </div>\n    );\n}\n\nexport default Auth;","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport AutoComplete from '@material-ui/lab/Autocomplete'\nimport {useHistory} from 'react-router-dom'\nimport '../css/header.scss'\n\nfunction TopSearchBar(props){\n    \n    let history = useHistory()\n    \n    const handleSelection = (newVal) => {\n        if (typeof newVal === \"string\") {\n            return\n        }\n\n        if (newVal==null) {\n            console.log(\"skipping\")\n        } else {\n\n            history.push(\"/course/\"+newVal.docId)\n            props.triggerRender()\n        }\n    }\n\n    return(\n        <div style={{ width: 175}}>\n            <AutoComplete\n                id=\"top-search-bar\"\n                options={props.courseList}\n                autoHighlight={true}\n                renderInput={(params) => (\n                    <TextField \n                        {...params} \n                        size=\"small\" \n                        label=\"Search Courses\" \n                        margin=\"normal\" \n                        variant=\"outlined\"\n                    />\n                )}\n                getOptionLabel={(option)=>option.title}\n                onChange={(e, newValue)=> {\n                    handleSelection(newValue)\n                }}\n            >\n            </AutoComplete>\n        </div>\n    )\n}\nexport default TopSearchBar","import Auth from './Auth'\nimport {makeStyles} from '@material-ui/core/styles'\nimport TopSearchBar from './TopSearchBar'\n\nconst useStyles = makeStyles((theme) => ({\n    headerContainer: {\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    authContainer: {\n        marginTop: '16px',\n        marginLeft: '10px',\n        marginRight: '10px'\n    }\n}))\n\nfunction HeaderBar(props) {\n    const classes = useStyles();\n\n    return(\n    <div className={classes.headerContainer}>\n        <TopSearchBar courseList={props.lists} triggerRender={props.triggerRender}/>\n        <div className={classes.authContainer}>\n            <Auth db={props.db} setFavList={props.setFavList} \n                isSignedIn={props.isSignedIn} setIsSignedIn={props.setIsSignedIn}\n                openSigninDialog={props.openSigninDialog} setOpenSigninDialog={props.setOpenSigninDialog}\n            />\n        </div>\n    </div>\n    )\n}\n\nexport default HeaderBar;","import React, {useState} from 'react'\nimport {makeStyles, useTheme} from '@material-ui/core/styles'\nimport {Button, Drawer, Hidden, Tooltip} from '@material-ui/core'\nimport HomeIcon from '@material-ui/icons/Home';\nimport '../css/drawer.scss'\nimport { Link } from 'react-router-dom'\nconst drawerWidth = 260\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n    },\n    drawer: {\n      [theme.breakpoints.up('sm')]: {\n        width: drawerWidth,\n        flexShrink: 0,\n      },\n    },\n    appBar: {\n      [theme.breakpoints.up('sm')]: {\n        width: `calc(100% - ${drawerWidth}px)`,\n        marginLeft: drawerWidth,\n      },\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        display: 'none',\n      },\n    },\n    // necessary for content to be below app bar\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n      width: drawerWidth,\n      backgroundColor: '#FAFAFA'\n    },\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(3),\n    },\n    homeButton: {\n      fontSize: '22px',\n      fontFamily: \"'Rubik'\",\n      fontWeight: 600,\n      background:\"none\",\n      textTransform: \"none\",\n      color: \"black\",\n      borderRadius: '16px',\n      textDecoration: \"none\",\n      transition:'0.5s',\n      border: \"none\",\n          '&:hover': {\n            backgroundColor: '#dedede',\n            marginLeft:'5px',\n            transition:'0.5s',\n              },\n              '&:focus': {\n                outline:'none',\n                border:'#e6e6e66e',\n              },\n\n    },\n    favListButton: {\n      fontSize: '20px',\n      fontFamily: \"'Rubik'\",\n      fontWeight: 400,\n      textTransform: \"none\",\n      color: \"#696969\",\n      marginLeft: \"30px\",\n      textDecoration: \"none\",\n      borderRadius: '16px',\n      textDecoration: \"none\",\n      transition:'0.5s',\n      border: \"none\",\n          '&:hover': {\n            backgroundColor: '#dedede',\n            marginLeft:'40px',\n            transition:'0.5s',\n              },\n              '&:focus': {\n                outline:'none',\n                border:'#e6e6e66e',\n              },\n      \n    },\n    favListHeader: {\n      fontSize: '22px',\n      fontFamily: \"'Rubik'\",\n      fontWeight: 600,\n      textTransform: \"none\",\n      color: \"black\",\n      marginTop: '15px',\n      textDecoration: \"none\"\n    },\n    signInButton: {\n      marginTop: \"5px\",\n      color: \"gray\"\n    }\n}));\n\n\n\nfunction DrawerMenu(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const [mobileOpen, setMobileOpen] = useState(false);\n\n    const handleDrawerToggle = () => {\n        setMobileOpen(!mobileOpen);\n    };\n    //drawer menu will fetch user settings on load\n\n    // const goHome = () => {\n    //   history.push(\"/\")\n    // }\n    const drawerContents = (\n      <div>\n        <div className=\"drawerHeader\">\n            <Link to=\"/\" className=\"drawerTitle\">\n                Lurndit\n            </Link>\n        </div>\n        \n        <div className=\"drawerContent\">\n          <div className=\"homeButtons\">\n            <div style={{display: 'inline-block'}} >\n            🏠 &nbsp; &nbsp; \n            <Link className={classes.homeButton} to=\"/\">\n            &nbsp; Home &nbsp;\n            </Link>\n            </div>\n          </div>\n          <div>\n            <Tooltip title={<div style={{fontSize: \"20px\", padding: \"5px\"}}>My Lists is where you bookmark your favourite lists</div>} \n              placement=\"right\" arrow\n            >\n              <div className={classes.favListHeader}>📜 &nbsp; &nbsp; My Lists</div>\n            </Tooltip>\n            {!props.isSignedIn &&\n              <div className={classes.signInButton}>\n                <span className=\"signInPrompt\" onClick={()=>props.setOpenSigninDialog(true)}>Sign in</span> to add favorites!\n              </div>\n            }\n            {props.favList.map((c, index) => (\n              <div key={c.courseId}>\n                <Link className={classes.favListButton} to={`/course/${c.courseId}`}>\n                &nbsp; &nbsp; {c.courseTitle} &nbsp; &nbsp;\n                </Link>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n\n    return (\n        <nav className={classes.drawer} aria-label=\"topic-container\">\n            <Hidden smUp implementation=\"css\">\n            <Drawer\n                variant=\"temporary\"\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                open={mobileOpen}\n                onClose={handleDrawerToggle}\n                classes={{\n                paper: classes.drawerPaper\n                }}\n                ModalProps={{\n                keepMounted:true,\n                }}\n            >\n                {drawerContents}\n            </Drawer>\n            </Hidden>\n            <Hidden xsDown implementation=\"css\">\n                <Drawer\n                    classes={{\n                    paper: classes.drawerPaper\n                    }}\n                    variant=\"permanent\"\n                    open\n                >\n                    {drawerContents}\n                </Drawer>\n            </Hidden>\n        </nav>\n    )\n}\n\nexport default DrawerMenu","import './App.css'\nimport Mainpage from './pages/Mainpage'\nimport CoursePage from './pages/CoursePage'\nimport HeaderBar from './molecules/HeaderBar'\nimport { Switch, Route, BrowserRouter as Router } from 'react-router-dom'\nimport DrawerMenu from './molecules/DrawerMenu'\nimport Helmet from 'react-helmet'\nimport firebase from 'firebase'\nimport 'firebase/firestore';\nimport { useEffect, useState, useCallback, useRef } from 'react'\n// import ReactGA from 'react-ga';\nimport Webcam from \"react-webcam\";\n\n\n// Initialize Firebase\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCT_G8I6t642bWM-Jo6Yg7QZTPKjdNpygo\",\n  authDomain: \"testsocialbeer.firebaseapp.com\",\n  projectId: \"testsocialbeer\",\n  storageBucket: \"testsocialbeer.appspot.com\",\n  messagingSenderId: \"681727518625\",\n  appId: \"1:681727518625:web:febb3cd58dcfde77844de0\",\n  measurementId: \"G-GT3WQXSDMW\"\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n}\n\nconst db = firebase.firestore();\nconst storage = firebase.storage();\n\nfunction App() {\n  // ReactGA.initialize('UA-177822253-1')\n  // ReactGA.pageview(window.location.pathname + window.location.search)\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [openSigninDialog, setOpenSigninDialog] = useState(false);\n  const [favList, setFavList] = useState([]);\n  const [lists, setLists] = useState([]);\n  const [submitSuccess, setSubmitSuccess] = useState(false)\n  const [recentTitle, setRecentTitle] = useState(\"\")\n  const [recentId, setRecentId] = useState(\"\")\n  const [routeTrigger, setRouteTrigger] = useState(false)\n  const [courseListLoading, setCourseListLoading] = useState(true)\n  const [imgSrc, setImgSrc] = useState(null);\n\n  \n  //on component mount\n  useEffect(() => {\n    db.collection(\"Lists\").onSnapshot((dataEntries) => {\n      let rows = []\n      dataEntries.forEach(doc => {\n        if(doc.data().title === undefined) {\n          return\n        }\n        if(doc.data().title === recentTitle) {\n          setRecentId(doc.id)\n        }\n        rows.push({\n          docId: doc.id,\n          title: doc.data().title,\n          subtitle: doc.data().description\n        })\n      })\n      \n      rows.sort(function(a, b) {\n        return (a.title < b.title) ? -1 : 1\n      })\n      setLists(rows);\n      setCourseListLoading(false)\n    });\n  }, [submitSuccess]);\n\n  const triggerRender = () => {\n    setRouteTrigger(!routeTrigger)\n  }\n\n  const updateFavList = (newTopic) => {\n\n  }\n\n  const webcamRef = useRef(null);\n  \n  const capture = useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    setImgSrc(imageSrc);\n    console.log(imageSrc);\n    // const image = fs.readFileSync(imageSrc.path);\n    storage.ref('images/testimage').putString(imageSrc, 'data_url').then((snapshot) => {\n      console.log('Uploaded image!');\n    });\n  }, [webcamRef, setImgSrc]);\n\n  return (\n    <div className=\"App\">\n      <Helmet>\n        <title>Lurndit</title>\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"/>\n        <link href=\"https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;600;700;800&display=swap\" rel=\"stylesheet\"/>\n      </Helmet>\n      <Router>\n        <HeaderBar lists={lists} triggerRender={triggerRender} db={db} setFavList={setFavList}\n          isSignedIn={isSignedIn} setIsSignedIn={setIsSignedIn}\n          openSigninDialog={openSigninDialog} setOpenSigninDialog={setOpenSigninDialog}\n        />\n        <div className=\"pageContainer\">\n          <DrawerMenu favList={favList} isSignedIn={isSignedIn} setOpenSigninDialog={setOpenSigninDialog}/>\n            <Switch>\n              <Route path=\"/course/:id\" render={({ match }) => <CoursePage id={match.params.id} favList={favList} db={db} key={window.location.pathname} setFavList={setFavList} isSignedIn={isSignedIn} setOpenSigninDialog={setOpenSigninDialog}/>} /> \n              <Route path=\"/\" render={(props) => (<Mainpage db={db} lists={lists} favList={favList} updateFavList={updateFavList} coursesLoading={courseListLoading} submitSuccess={submitSuccess} setSubmitSuccess={setSubmitSuccess} setRecentTitle={setRecentTitle} recentTitle={recentTitle} recentId={recentId} isSignedIn={isSignedIn} setOpenSigninDialog={setOpenSigninDialog}/>)}/>\n            </Switch>\n            <Webcam\n              audio={false}\n              ref={webcamRef}\n              screenshotFormat=\"image/jpeg\"\n            />\n            <button onClick={capture}>Capture photo</button>\n            {imgSrc && (\n              <img\n                src={imgSrc}\n              />\n            )}\n\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  // https://stackoverflow.com/questions/61220424/material-ui-drawer-finddomnode-is-deprecated-in-strictmode\n  // <React.StrictMode>\n    <App />\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}