(this.webpackJsonplurndit=this.webpackJsonplurndit||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},130:function(e,t,n){},136:function(e,t,n){},138:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),o=n(18),r=n.n(o),a=(n(124),n(10)),s=(n(125),n(79),n(21)),l=n(197),d=n(198),u=n(199),j=n(200),b=n(207),h=n(201),f=n(202),O=n(210),p=n(155),g=n(203),x=n(93),m=n.n(x),v=n(195),S=n(193),w=n(34),y=(n(130),n(4)),C=Object(S.a)((function(e){return{searchTextArea:{width:"750px"},searchTextAreaMobile:{width:"100%"},textAreaFont:{fontSize:"24pt",fontFamily:"'Rubik'",fontWeight:600},textAreaFontMobile:{fontSize:"16pt",fontFamily:"'Rubik'",fontWeight:600,marginTop:"10px"}}}));var I=function(e){var t=Object(i.useState)(""),n=Object(a.a)(t,2),c=n[0],o=n[1],r=Object(i.useState)(window.innerWidth<800),s=Object(a.a)(r,2),l=s[0],d=s[1],u=C();Object(i.useEffect)((function(){window.addEventListener("resize",(function(){d(window.innerWidth<800)}))}),[]);for(var j=new RegExp("^"+c.toLowerCase().split(" ").join("")),h=[],f=l?10:9,O=0;O<e.lists.length;O++){var p=e.lists[O].title.toLowerCase().split(" ").join("");if(j.test(p)&&h.push([e.lists[O].docId,e.lists[O].title,e.lists[O].subtitle]),h.length===f)break}h.sort((function(e,t){return e[1]<t[1]?-1:1}));var g=l?12:4,x=h.map((function(e,t){return Object(y.jsx)(v.a,{item:!0,xs:g,children:Object(y.jsx)(w.b,{to:"/course/"+e[0],style:{textDecoration:"none"},children:Object(y.jsx)("div",{className:"searchResult",onClick:function(){return function(e){console.log(e)}(t)},children:Object(y.jsxs)("div",{className:"searchText",children:[Object(y.jsx)("div",{className:"searchTerm",children:e[1]}),Object(y.jsx)("div",{className:"searchDescription",children:e[2]})]})})})},t)})),m=0===h.length,S=l?u.textAreaFontMobile:u.textAreaFont;return Object(y.jsxs)("div",{className:"searchCourseContainer",children:[Object(y.jsx)("div",{className:"searchBoxContainer",children:Object(y.jsx)(b.a,{className:l?u.searchTextAreaMobile:u.searchTextArea,InputProps:{classes:{input:S}},onChange:function(e){o(e.target.value)},placeholder:"Search for courses...",type:"text"})}),Object(y.jsx)("div",{className:"searchResultContainer",children:m?Object(y.jsx)("div",{children:"no results! :("}):Object(y.jsx)(v.a,{container:!0,spacing:3,children:x})})]})},N=n(27),L=n(56),k=(n(136),Object(S.a)((function(e){return{newCourseButton:{textTransform:"none",background:"#000000",WebkitBackgroundClip:"background",WebkitTextFillColor:"radial-gradient(circle farthest-corner at center center,white,#111) no-repeat",border:0,fontSize:"18px",color:"white",fontWeight:700,borderRadius:"30px",boxShadow:"0 3px 5px 2px",height:48,padding:"0 30px",transition:"0.4s","&:hover":{background:"#FFFFFF",color:"#000000",transition:"0.4s",boxShadow:"none",border:"solid 1px #000000"}}}})));var D=function(e){var t=k(),n=e.db,o=Object(N.f)(),r=Object(i.useState)(!1),x=Object(a.a)(r,2),v=x[0],S=x[1],w=Object(i.useState)(""),C=Object(a.a)(w,2),D=C[0],T=C[1],F=Object(i.useState)("N/A"),R=Object(a.a)(F,2),A=R[0],E=R[1],W=Object(i.useState)(""),B=Object(a.a)(W,2),z=B[0],P=B[1],U=Object(i.useState)("University of Victoria"),H=Object(a.a)(U,2),M=H[0],_=H[1],G=Object(i.useState)(!1),V=Object(a.a)(G,2),J=(V[0],V[1]),K=Object(i.useState)(!1),Q=Object(a.a)(K,2),X=(Q[0],Q[1]),Y=Object(i.useState)([!1,!1,!1,!1]),Z=Object(a.a)(Y,2),q=Z[0],$=Z[1],ee=Object(L.a)(s.a.auth()),te=Object(a.a)(ee,3),ne=te[0],ie=(te[1],te[2],function(t,n){"clickaway"!==n&&e.setSubmitSuccess(!1)}),ce=Object(y.jsxs)(l.a,{open:v,onClose:function(){return S(!1)},"aria-labelledby":"form-dialog-title",children:[Object(y.jsx)(d.a,{id:"form-dialog-title",children:"Add Course"}),Object(y.jsxs)(u.a,{children:[Object(y.jsx)(j.a,{children:"Please enter the new course below"}),Object(y.jsx)(b.a,{autoFocus:!0,margin:"dense",error:q[0],id:"code",label:"Course Code",fullWidth:!0,value:z,placeholder:"eg. MATH101",onChange:function(e){return P(e.target.value)}}),Object(y.jsx)(b.a,{margin:"dense",id:"title",error:q[2],label:"Course Title",fullWidth:!0,value:D,placeholder:"eg. Introductory Calculus",onChange:function(e){return T(e.target.value)}})]}),Object(y.jsxs)(h.a,{children:[Object(y.jsx)(f.a,{onClick:function(e){S(!1),$([!1,!1,!1,!1]),T(""),E(""),_(""),P("")},color:"primary",children:"Cancel"}),Object(y.jsx)(f.a,{onClick:function(){if(J(!0),""===z||""===M||""===D||""===A){var t=[];return""===z?t.push(!0):t.push(!1),""===A?t.push(!0):t.push(!1),""===D?t.push(!0):t.push(!1),""===M?t.push(!0):t.push(!1),void $(t)}n.collection("Lists").add({datetime:new Date,title:z,university:M,description:D,subject:A,creatorId:ne.uid,creatorName:ne.displayName}).then((function(){e.setRecentTitle(z),T(""),E(""),_(""),P(""),S(!1),J(!1),e.setSubmitSuccess(!0)})).catch((function(e){console.error("Error adding document: ",e),X(!0),J(!1)}))},color:"primary",children:"Submit"})]})]}),oe=Object(y.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.submitSuccess,autoHideDuration:1e4,onClose:ie,message:"Course Created!",action:Object(y.jsxs)(c.a.Fragment,{children:[Object(y.jsx)(f.a,{color:"secondary",size:"small",onClick:function(){o.push("/course/"+e.recentId),ie()},children:e.recentTitle}),Object(y.jsx)(p.a,{size:"small","aria-label":"close",color:"inherit",onClick:ie,children:Object(y.jsx)(m.a,{fontSize:"small"})})]})});return Object(y.jsxs)("div",{className:"mainPageContainer",children:[ce,oe,Object(y.jsx)("div",{className:"titleSection",children:Object(y.jsx)("div",{className:"pageTitleContainer",children:Object(y.jsx)("h1",{className:"pageTitle",children:"Curated content that will help you study better."})})}),Object(y.jsx)("div",{className:"commandSection",children:Object(y.jsx)("div",{children:!e.coursesLoading&&Object(y.jsx)("div",{children:e.isSignedIn?Object(y.jsx)(f.a,{className:t.newCourseButton,onClick:function(){return S(!0)},children:"Add Course +"}):Object(y.jsx)(f.a,{className:t.newCourseButton,onClick:function(){return e.setOpenSigninDialog(!0)},children:"Add Course +"})})})}),Object(y.jsx)("div",{className:"courseSection",children:e.coursesLoading?Object(y.jsx)("div",{children:Object(y.jsx)(g.a,{size:60})}):Object(y.jsx)(I,{lists:e.lists})})]})},T=n(37),F=n(14),R=n(206),A=n(38),E=n(211),W=n(204),B=n(205),z=n(95),P=n.n(z),U=n(77),H=n(96),M=n.n(H),_=n(94);var G=function(e){if(function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e.url)){var t=/https:\/\/www\.youtube\.com\/watch\?v=(.+)/.exec(e.url);return null!==t?Object(y.jsx)("iframe",{src:"https://www.youtube.com/embed/"+t[1],allowfullscreen:"allowfullscreen",width:"420",height:"345"}):Object(y.jsx)(_.ReactTinyLink,{cardSize:"small",showGraphic:!0,maxLine:2,minLine:1,url:e.url})}return Object(y.jsx)("div",{style:{color:"grey",borderColor:"grey",borderWidth:"2px",borderStyle:"solid",marginTop:"4px",padding:"10px",textAlign:"center",fontSize:"50px"},children:"404 Invalid Url"})},V=Object(S.a)((function(e){return{accordion:{marginLeft:"50px",marginRight:"50px",marginTop:"30px",fontFamily:"'Rubik'"},accordianTitle:{fontWeight:600,fontSize:32,marginTop:"30px",position:"relative"},expanded:{marginTop:"30px"},details:{display:"block",textAlign:"left"},resourceContainer:{display:"flex",marginTop:"10px",border:"1px solid #B9B9B9",justifyContent:"space-between",borderRadius:"8px",padding:"17px",fontColor:"#696969"},resourceTitle:{fontFamily:"Circular Std",fontStyle:"normal",fontWeight:"bold",fontSize:"25px"},resourceDesc:{fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal",fontSize:"20px"},deleteButton:{position:"absolute",right:"50px"}}}));var J=function(e){var t=Object(i.useState)(!1),n=Object(a.a)(t,2),c=n[0],o=n[1],r=Object(i.useState)(""),O=Object(a.a)(r,2),p=O[0],g=O[1],x=Object(i.useState)(""),m=Object(a.a)(x,2),v=m[0],S=m[1],w=Object(i.useState)(""),C=Object(a.a)(w,2),I=C[0],N=C[1],k=Object(i.useState)(""),D=Object(a.a)(k,2),T=D[0],F=D[1],R=Object(L.a)(s.a.auth()),z=Object(a.a)(R,3),H=z[0],_=(z[1],z[2],V());if(e.topics===[])return Object(y.jsx)("div",{children:"No topics found"});function J(t){var n,i=t.topic,c=t.index;return n=null!==H?H.uid:"not signed in",Object(y.jsx)(U.b,{draggableId:i.docId,index:c,isDragDisabled:!e.isSignedIn,children:function(t){return Object(y.jsx)("div",Object(A.a)(Object(A.a)(Object(A.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(y.jsxs)(E.a,{className:_.accordion,children:[Object(y.jsxs)(W.a,{expandIcon:Object(y.jsx)(P.a,{style:{fill:"green"}}),id:i.docId,className:_.accordianTitle,children:[Object(y.jsx)(M.a,{fontSize:"inherit",style:{colour:"#E5E5E5"}}),i.title,i.creatorID==n&&Object(y.jsx)(f.a,{variant:"outlined",color:"secondary",className:_.deleteButton,onClick:function(){var t,n;t=i.docId,n=i.title,window.confirm("Delete your topic: "+n+"?")?e.deleteTopic(t):console.log("cancelled")},children:"Delete"})]}),Object(y.jsxs)(B.a,{className:_.details,children:[Object(y.jsx)("div",{children:e.isSignedIn?Object(y.jsx)(f.a,{variant:"outlined",type:"submit",onClick:function(){o(!0),F(i.docId)},children:"Add Resource"}):Object(y.jsx)(f.a,{variant:"outlined",type:"submit",onClick:function(){e.setOpenSigninDialog(!0)},children:"Add Resource"})}),i.resources.map((function(t){return Object(y.jsxs)("div",{className:_.resourceContainer,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:_.resourceTitle,children:t.title}),Object(y.jsx)("div",{className:_.resourceDesc,children:t.description}),n==t.creatorID&&Object(y.jsx)(f.a,{variant:"outlined",color:"secondary",onClick:function(){var n,c;n=t,c=i.docId,window.confirm("Delete your resource: "+n.title+"?")?e.deleteResource(n,c):console.log("cancelled")},children:"Delete Resource"})]}),Object(y.jsx)("div",{children:Object(y.jsx)(G,{url:t.url})})]},t.resourceId)}))]})]},i.docId)}))}})}var K=e.topics.map((function(e,t){return Object(y.jsx)(J,{topic:e,index:t},t)}));return Object(y.jsxs)("div",{children:[Object(y.jsxs)(l.a,{open:c,onClose:function(){return o(!1)},"aria-labelledby":"form-dialog-title",children:[Object(y.jsx)(d.a,{id:"form-dialog-title",children:"Add Resource"}),Object(y.jsxs)(u.a,{children:[Object(y.jsx)(j.a,{children:"Please enter the new resource below"}),Object(y.jsx)(b.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",fullWidth:!0,value:p,onChange:function(e){return g(e.target.value)}}),Object(y.jsx)(b.a,{margin:"dense",id:"description",label:"Description",fullWidth:!0,value:v,onChange:function(e){return S(e.target.value)}}),Object(y.jsx)(b.a,{margin:"dense",id:"url",label:"URL",type:"url",fullWidth:!0,value:I,onChange:function(e){return N(e.target.value)}})]}),Object(y.jsxs)(h.a,{children:[Object(y.jsx)(f.a,{onClick:function(e){o(!1),g(""),S(""),N(""),F("")},color:"primary",children:"Cancel"}),Object(y.jsx)(f.a,{onClick:function(){o(!1),e.newResource(e.db,e.docId,T,p,v,I,H.uid,H.displayName),g(""),S(""),N(""),F("")},color:"primary",children:"Add"})]})]}),Object(y.jsx)(U.a,{onDragEnd:function(t){e.onDragEnd(t)},children:Object(y.jsx)(U.c,{droppableId:"topiclist",children:function(e){return Object(y.jsx)("div",Object(A.a)(Object(A.a)({ref:e.innerRef},e.droppableProps),{},{children:K}))}})})]})},K=n(99),Q=n.n(K),X=n(98),Y=n.n(X),Z=(n(138),Object(S.a)((function(e){return{topicTextArea:Object(F.a)({width:"400px"},e.breakpoints.down("sm"),{width:"80%"}),textAreaFont:{fontSize:"16pt",fontFamily:"'Montserrat', sans-serif",fontWeight:600},favStarIcon:{marginLeft:"5px",marginBottom:"-7px",color:"#ff6d75"},favButton:{fontFamily:"'Montserrat', sans-serif",fontWeight:600,color:"gray"}}})));function q(e,t,n,i,c,o,r,a){e.collection("Lists/".concat(t,"/topics")).doc(n).update({resources:s.a.firestore.FieldValue.arrayUnion({datetime:new Date,title:i,description:c,url:o,creatorID:r,creatorName:a})}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error adding document: ",e)}))}function $(e,t,n){e.collection("UserList/".concat(s.a.auth().currentUser.uid,"/favouritesList")).where("courseId","==",n.id).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}));var i=Object(T.a)(n.favList);i=i.filter((function(e){return e.courseId!==n.id})),n.setFavList(i)}var ee=function(e){var t=e.db,n=Object(i.useState)(""),c=Object(a.a)(n,2),o=c[0],r=c[1],l=Object(i.useState)(""),d=Object(a.a)(l,2),u=d[0],j=d[1],h=Object(i.useState)(!0),O=Object(a.a)(h,2),p=O[0],x=O[1],m=Object(i.useState)([]),v=Object(a.a)(m,2),S=v[0],C=v[1],I=Object(i.useState)(""),N=Object(a.a)(I,2),k=N[0],D=N[1],F=Object(i.useState)(!1),A=Object(a.a)(F,2),E=A[0],W=A[1],B=Object(i.useState)(!1),z=Object(a.a)(B,2),P=z[0],U=z[1],H=Object(i.useState)(!1),M=Object(a.a)(H,2),_=M[0],G=M[1],V=Object(i.useState)(""),K=Object(a.a)(V,2),X=K[0],ee=K[1],te=Object(L.a)(s.a.auth()),ne=Object(a.a)(te,3),ie=ne[0],ce=(ne[1],ne[2],Object(i.useState)(!1)),oe=Object(a.a)(ce,2),re=(oe[0],oe[1]),ae=Object(i.useState)("none"),se=Object(a.a)(ae,2),le=se[0],de=se[1],ue=Z();Object(i.useEffect)((function(){console.log("saving!"),function(e,t,n){e.collection("Lists").doc(n).set({useForcedOrder:!0},{merge:!0});for(var i=0;i<t.length;i++)console.log(t[i].docId),console.log(t[i].title),e.collection("Lists").doc(n).collection("topics").doc(t[i].docId).set({position:t.length-i-1},{merge:!0}).catch((function(e){console.log("Error setting new positions.")}))}(e.db,S,e.id)}),[E]),Object(i.useEffect)((function(){if(!_&&e.favList.length>0)for(var t=0;t<e.favList.length;t++)if(e.favList[t].courseId===e.id){G(!0);break}}),[e.favList]),Object(i.useEffect)((function(){t.collection("Lists").doc(e.id).get().then((function(n){var i=n.data();void 0==i.title&&de("notFound"),r(i.title),ee(i.creatorId),i.description&&j(i.description),console.log(i.useForcedOrder);var c=void 0!==i.useForcedOrder;!0===c&&(c=!!i.useForcedOrder,re(c)),"none"==le&&t.collection("Lists/".concat(e.id,"/topics")).onSnapshot((function(e){var t,n=[];e.forEach((function(e){var t=e.data().datetime.toDate().toString();n.push({docId:e.id,timeStamp:t,title:e.data().title,resources:e.data().resources,position:e.data().position,creatorID:e.data().creatorId,creatorName:e.data().creatorName})})),n.length>1&&((t=n).sort((function(e,t){return t.position-e.position})),n=t),C(n),x(!1)}))})).catch((function(e){console.log(e),de("notFound"),x(!1)}))}),[e.id]);var je=function(){return window.confirm("Are you sure you want to delete this course?")};return"notFound"==le?Object(y.jsx)("div",{className:"coursePage",children:Object(y.jsx)("div",{className:"courseHeader",children:Object(y.jsxs)("div",{className:"courseTitles",children:[Object(y.jsx)("div",{className:"courseTitle",children:"404 Not Found"}),Object(y.jsx)("div",{className:"courseSubtitle",children:"We couldn't find what you were looking for, or it doesn't exist!"})]})})}):"deleted"==le?Object(y.jsx)("div",{className:"coursePage",children:Object(y.jsx)("div",{className:"courseHeader",children:Object(y.jsxs)("div",{className:"courseTitles",children:[Object(y.jsx)("div",{className:"courseTitle",children:"Resource deleted"}),Object(y.jsx)("div",{className:"courseSubtitle",children:Object(y.jsx)(w.b,{to:"/",children:"Back to Home"})})]})})}):Object(y.jsx)("div",{children:!0===p?Object(y.jsx)("div",{className:"loadingPage",children:Object(y.jsx)(g.a,{})}):Object(y.jsxs)("div",{className:"coursePage",children:[Object(y.jsxs)("div",{className:"courseHeader",children:[Object(y.jsxs)("div",{className:"courseTitles",children:[Object(y.jsx)("div",{className:"courseTitle",children:o}),Object(y.jsx)("div",{className:"courseSubtitle",children:u})]}),null!=s.a.auth().currentUser&&(_?Object(y.jsx)("div",{className:"favouriteIndicator",onClick:function(){s.a.auth().currentUser&&(_?($(t,0,e),G(!1)):alert("this is not a favorite"))},children:Object(y.jsx)(R.a,{title:Object(y.jsx)("div",{style:{fontSize:"20px",padding:"5px"},children:"Remove list from favourites list"}),placement:"right",arrow:!0,children:Object(y.jsx)(Q.a,{className:ue.favStarIcon})})}):Object(y.jsx)("div",{className:"favouriteIndicator",onClick:function(){s.a.auth().currentUser?_?alert("Already in favorites list!"):function(e,t,n,i){e.collection("UserList").doc(s.a.auth().currentUser.uid).collection("favouritesList").add({courseId:i.id,courseTitle:n,datetime:new Date}).then((function(){var e=Object(T.a)(i.favList),c={datetime:new Date,courseId:t,courseTitle:n};e.push(c),i.setFavList(e),console.log("Document successfully written!")})).catch((function(e){console.error("Error adding document: ",e)}))}(t,e.id,o,e):alert("please sign in to add to favourites")},children:Object(y.jsx)(R.a,{title:Object(y.jsx)("div",{style:{fontSize:"20px",padding:"5px"},children:"Add list to favourites list"}),placement:"right",arrow:!0,children:Object(y.jsx)(Y.a,{className:ue.favStarIcon})})}))]}),Object(y.jsx)("div",{className:"courseButtons",children:Object(y.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e.isSignedIn?""!==k?(!function(e,t,n,i,c){console.log(i),e.collection("Lists/".concat(n,"/topics")).add({datetime:new Date,title:t,resources:[],position:i,creatorId:c.uid,creatorName:c.displayName}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error adding document: ",e)}))}(t,k,e.id,S.length,ie),D(""),U(!1)):U(!0):e.setOpenSigninDialog(!0)},className:"courseButtons",children:[Object(y.jsx)(b.a,{placeholder:"New Topic",error:P,className:ue.topicTextArea,value:k,InputProps:{classes:{input:ue.textAreaFont}},onChange:function(e){e.target.value.length>30?U(!0):P?(U(!1),D(e.target.value)):D(e.target.value)}}),Object(y.jsx)(f.a,{variant:"outlined",type:"submit",style:{marginLeft:"10px"},children:"Add Topic"}),ie&&Object(y.jsx)("div",{children:ie.uid===X&&Object(y.jsx)(f.a,{variant:"outlined",color:"secondary",onClick:function(){je()&&(x(!0),$(t,0,e),t.collection("Lists").doc(e.id).collection("topics").get().then((function(e){e.forEach((function(e){e.ref.delete()}))})),t.collection("Lists").doc(e.id).delete().then((function(){console.log("Delete success."),de("deleted"),x(!1)})).catch((function(e){console.warn(e)})))},children:"Delete Course"})})]})}),Object(y.jsx)(J,{db:t,topics:S,isSignedIn:e.isSignedIn,setOpenSigninDialog:e.setOpenSigninDialog,newResource:q,deleteResource:function(n,i){console.log(n);var c=S.filter((function(e){return e.resources.title!=n.title}));C(c),t.collection("Lists").doc(e.id).collection("topics").doc(i).update({resources:s.a.firestore.FieldValue.arrayRemove({creatorID:n.creatorID,creatorName:n.creatorName,datetime:n.datetime,description:n.description,title:n.title,url:n.url})}).catch((function(e){console.log(e)}))},deleteTopic:function(n){var i=S.filter((function(e){return e.id!=n}));C(i),t.collection("Lists").doc(e.id).collection("topics").doc(n).delete()},docId:e.id,switchTopic:function(e){console.log(e)},onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){re(!0);var t=function(e,t,n){console.log(e);var i=Object(T.a)(e),c=i.splice(t,1),o=Object(a.a)(c,1)[0];return i.splice(n,0,o),console.log(i),i.forEach((function(e,t){e.position=i.length-t-1})),console.log(i),i}(S,e.source.index,e.destination.index);C(t),W(!E)}}})]})})},te=n(100),ne=n.n(te),ie={signInFlow:"popup",signInOptions:[s.a.auth.EmailAuthProvider.PROVIDER_ID,s.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};var ce=function(e){var t=e.isSignedIn,n=e.setIsSignedIn,c=e.openSigninDialog,o=e.setOpenSigninDialog,r=Object(i.useState)(!1),j=Object(a.a)(r,2),b=j[0],O=j[1];Object(i.useEffect)((function(){var t=s.a.auth().onAuthStateChanged((function(t){n(!!t),o(!1),t?e.db.collection("UserList/".concat(t.uid,"/favouritesList")).get().then((function(t){var n=[];t.forEach((function(e){n.push(e.data())})),e.setFavList(n)})):e.setFavList([])}));return function(){return t()}}),[]);var p=Object(y.jsxs)(l.a,{open:c,onClose:function(){return o(!1)},"aria-labelledby":"form-dialog-title",children:[Object(y.jsx)(d.a,{id:"form-dialog-title",children:"Signin/Signup"}),Object(y.jsxs)(u.a,{children:[Object(y.jsx)(ne.a,{uiConfig:ie,firebaseAuth:s.a.auth()}),Object(y.jsx)(f.a,{color:"primary",size:"small",onClick:function(){return O(!0)},children:"How to reset email password"})]}),Object(y.jsx)(h.a,{children:Object(y.jsx)(f.a,{onClick:function(e){o(!1)},color:"primary",children:"Cancel"})})]}),g=Object(y.jsxs)(l.a,{open:b,onClose:function(){return O(!1)},"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(y.jsx)(d.a,{id:"form-dialog-title",children:"Signin/Signup"}),Object(y.jsx)(u.a,{children:Object(y.jsx)("img",{src:"/how_to_reset_password.png",alt:"password reset help image"})}),Object(y.jsx)(h.a,{children:Object(y.jsx)(f.a,{onClick:function(e){O(!1)},color:"primary",children:"Close"})})]});return t?Object(y.jsx)("div",{children:Object(y.jsx)(f.a,{variant:"outlined",onClick:function(){return s.a.auth().signOut()},children:"Sign-out"})}):Object(y.jsxs)("div",{children:[p,g,Object(y.jsx)(f.a,{variant:"outlined",onClick:function(){return o(!0)},children:"Sign in/up"})]})},oe=n(208);n(147);var re=function(e){var t=Object(N.f)();return Object(y.jsx)("div",{style:{width:175},children:Object(y.jsx)(oe.a,{id:"top-search-bar",options:e.courseList,autoHighlight:!0,renderInput:function(e){return Object(y.jsx)(b.a,Object(A.a)(Object(A.a)({},e),{},{size:"small",label:"Search Courses",margin:"normal",variant:"outlined"}))},getOptionLabel:function(e){return e.title},onChange:function(n,i){var c;"string"!==typeof(c=i)&&(null==c?console.log("skipping"):(t.push("/course/"+c.docId),e.triggerRender()))}})})},ae=Object(S.a)((function(e){return{headerContainer:{display:"flex",justifyContent:"flex-end"},authContainer:{marginTop:"16px",marginLeft:"10px",marginRight:"10px"}}}));var se=function(e){var t=ae();return Object(y.jsxs)("div",{className:t.headerContainer,children:[Object(y.jsx)(re,{courseList:e.lists,triggerRender:e.triggerRender}),Object(y.jsx)("div",{className:t.authContainer,children:Object(y.jsx)(ce,{db:e.db,setFavList:e.setFavList,isSignedIn:e.isSignedIn,setIsSignedIn:e.setIsSignedIn,openSigninDialog:e.openSigninDialog,setOpenSigninDialog:e.setOpenSigninDialog})})]})},le=n(24),de=n(209),ue=n(212),je=(n(148),260),be=Object(S.a)((function(e){var t;return{root:{display:"flex"},drawer:Object(F.a)({},e.breakpoints.up("sm"),{width:je,flexShrink:0}),appBar:Object(F.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(je,"px)"),marginLeft:je}),menuButton:Object(F.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:je,backgroundColor:"#FAFAFA"},content:{flexGrow:1,padding:e.spacing(3)},homeButton:{fontSize:"22px",fontFamily:"'Rubik'",fontWeight:600,background:"none",textTransform:"none",color:"black",borderRadius:"16px",textDecoration:"none",transition:"0.5s",border:"none","&:hover":{backgroundColor:"#dedede",marginLeft:"5px",transition:"0.5s"},"&:focus":{outline:"none",border:"#e6e6e66e"}},favListButton:(t={fontSize:"20px",fontFamily:"'Rubik'",fontWeight:400,textTransform:"none",color:"#696969",marginLeft:"30px",textDecoration:"none",borderRadius:"16px"},Object(F.a)(t,"textDecoration","none"),Object(F.a)(t,"transition","0.5s"),Object(F.a)(t,"border","none"),Object(F.a)(t,"&:hover",{backgroundColor:"#dedede",marginLeft:"40px",transition:"0.5s"}),Object(F.a)(t,"&:focus",{outline:"none",border:"#e6e6e66e"}),t),favListHeader:{fontSize:"22px",fontFamily:"'Rubik'",fontWeight:600,textTransform:"none",color:"black",marginTop:"15px",textDecoration:"none"},signInButton:{marginTop:"5px",color:"gray"}}}));var he=function(e){var t=be(),n=Object(le.a)(),c=Object(i.useState)(!1),o=Object(a.a)(c,2),r=o[0],s=o[1],l=Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"drawerHeader",children:Object(y.jsx)(w.b,{to:"/",className:"drawerTitle",children:"Lurndit"})}),Object(y.jsxs)("div",{className:"drawerContent",children:[Object(y.jsx)("div",{className:"homeButtons",children:Object(y.jsxs)("div",{style:{display:"inline-block"},children:["\ud83c\udfe0 \xa0 \xa0",Object(y.jsx)(w.b,{className:t.homeButton,to:"/",children:"\xa0 Home \xa0"})]})}),Object(y.jsxs)("div",{children:[Object(y.jsx)(R.a,{title:Object(y.jsx)("div",{style:{fontSize:"20px",padding:"5px"},children:"My Lists is where you bookmark your favourite lists"}),placement:"right",arrow:!0,children:Object(y.jsx)("div",{className:t.favListHeader,children:"\ud83d\udcdc \xa0 \xa0 My Lists"})}),!e.isSignedIn&&Object(y.jsxs)("div",{className:t.signInButton,children:[Object(y.jsx)("span",{className:"signInPrompt",onClick:function(){return e.setOpenSigninDialog(!0)},children:"Sign in"})," to add favorites!"]}),e.favList.map((function(e,n){return Object(y.jsx)("div",{children:Object(y.jsxs)(w.b,{className:t.favListButton,to:"/course/".concat(e.courseId),children:["\xa0 \xa0 ",e.courseTitle," \xa0 \xa0"]})},e.courseId)}))]})]})]});return Object(y.jsxs)("nav",{className:t.drawer,"aria-label":"topic-container",children:[Object(y.jsx)(de.a,{smUp:!0,implementation:"css",children:Object(y.jsx)(ue.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:r,onClose:function(){s(!r)},classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0},children:l})}),Object(y.jsx)(de.a,{xsDown:!0,implementation:"css",children:Object(y.jsx)(ue.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0,children:l})})]})},fe=n(102),Oe=n(105),pe=n.n(Oe);s.a.apps.length||s.a.initializeApp({apiKey:"AIzaSyCT_G8I6t642bWM-Jo6Yg7QZTPKjdNpygo",authDomain:"testsocialbeer.firebaseapp.com",projectId:"testsocialbeer",storageBucket:"testsocialbeer.appspot.com",messagingSenderId:"681727518625",appId:"1:681727518625:web:febb3cd58dcfde77844de0",measurementId:"G-GT3WQXSDMW"});var ge=s.a.firestore(),xe=s.a.storage();var me=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1],o=Object(i.useState)(!1),r=Object(a.a)(o,2),s=r[0],l=r[1],d=Object(i.useState)([]),u=Object(a.a)(d,2),j=u[0],b=u[1],h=Object(i.useState)([]),f=Object(a.a)(h,2),O=f[0],p=f[1],g=Object(i.useState)(!1),x=Object(a.a)(g,2),m=x[0],v=x[1],S=Object(i.useState)(""),C=Object(a.a)(S,2),I=C[0],L=C[1],k=Object(i.useState)(""),T=Object(a.a)(k,2),F=T[0],R=T[1],A=Object(i.useState)(!1),E=Object(a.a)(A,2),W=E[0],B=E[1],z=Object(i.useState)(!0),P=Object(a.a)(z,2),U=P[0],H=P[1],M=Object(i.useState)(null),_=Object(a.a)(M,2),G=_[0],V=_[1];Object(i.useEffect)((function(){ge.collection("Lists").onSnapshot((function(e){var t=[];e.forEach((function(e){void 0!==e.data().title&&(e.data().title===I&&R(e.id),t.push({docId:e.id,title:e.data().title,subtitle:e.data().description}))})),t.sort((function(e,t){return e.title<t.title?-1:1})),p(t),H(!1)}))}),[m]);var J=function(e){},K=Object(i.useRef)(null),Q=Object(i.useCallback)((function(){var e=K.current.getScreenshot();V(e),console.log(e),xe.ref("images/testimage").putString(e,"data_url").then((function(e){console.log("Uploaded image!")}))}),[K,V]);return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)(fe.a,{children:[Object(y.jsx)("title",{children:"Lurndit"}),Object(y.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(y.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;600;700;800&display=swap",rel:"stylesheet"})]}),Object(y.jsxs)(w.a,{children:[Object(y.jsx)(se,{lists:O,triggerRender:function(){B(!W)},db:ge,setFavList:b,isSignedIn:n,setIsSignedIn:c,openSigninDialog:s,setOpenSigninDialog:l}),Object(y.jsxs)("div",{className:"pageContainer",children:[Object(y.jsx)(he,{favList:j,isSignedIn:n,setOpenSigninDialog:l}),Object(y.jsxs)(N.c,{children:[Object(y.jsx)(N.a,{path:"/course/:id",render:function(e){var t=e.match;return Object(y.jsx)(ee,{id:t.params.id,favList:j,db:ge,setFavList:b,isSignedIn:n,setOpenSigninDialog:l},window.location.pathname)}}),Object(y.jsx)(N.a,{path:"/",render:function(e){return Object(y.jsx)(D,{db:ge,lists:O,favList:j,updateFavList:J,coursesLoading:U,submitSuccess:m,setSubmitSuccess:v,setRecentTitle:L,recentTitle:I,recentId:F,isSignedIn:n,setOpenSigninDialog:l})}})]}),Object(y.jsx)(pe.a,{audio:!1,ref:K,screenshotFormat:"image/jpeg"}),Object(y.jsx)("button",{onClick:Q,children:"Capture photo"}),G&&Object(y.jsx)("img",{src:G})]})]})]})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),c(e),o(e),r(e)}))};r.a.render(Object(y.jsx)(me,{}),document.getElementById("root")),ve()}},[[149,1,2]]]);
//# sourceMappingURL=main.9eab8808.chunk.js.map